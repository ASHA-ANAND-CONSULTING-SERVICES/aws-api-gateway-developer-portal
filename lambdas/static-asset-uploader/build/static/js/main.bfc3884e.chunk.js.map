{"version":3,"sources":["services/get-fragments.js","services/api.js","pages/Home.jsx","pages/GettingStarted.jsx","services/state.js","services/api-catalog.js","services/misc.js","pages/Dashboard.jsx","services/self.js","components/ApisMenu.jsx","components/SwaggerUiLayout.jsx","pages/Apis.jsx","components/AlertPopup.jsx","components/SignIn.jsx","components/Register.jsx","components/SignOut.jsx","components/NavBar.jsx","index.js"],"names":["fragments","observable","loadHtml","path","fragment","jsx","fetch","then","response","text","parsedMarkdown","frontmatter","Object","objectSpread","react_default","a","createElement","with_html_default","escapeHtml","source","body","renderers","attributes","cachedClient","link","_ref","href","props","objectWithoutProperties","test","assign","target","rel","Link","to","HomePage","observer","Fragment","Segment","vertical","textAlign","style","color","backgroundColor","padding","margin","Image","centered","size","src","Header","as","Home","header","tagline","Button","positive","gettingStartedButton","apiListButton","Container","fluid","GettingStarted","awsRegion","window","config","region","cognitoRegion","cognitoUserPoolId","userPoolId","cognitoIdentityPoolId","identityPoolId","cognitoClientId","userPoolClientId","initApiGatewayClient","arguments","length","undefined","accessKeyId","secretAccessKey","sessionToken","apigClientFactory","newClient","accessKey","secretKey","apiGatewayClient","Promise","resolve","poller","setInterval","clearInterval","AWS","store","api","apiList","cognitoUser","catalog","apiGateway","generic","storeCache","map","usagePlan","apis","_","cloneDeep","toConsumableArray","_ref2","reduce","acc","concat","createApiList","forEach","specificLogo","id","stage","logo","headers","Accept","redirect","ok","updateSubscriptionStatus","subscriptions","computed","usagePlanId","subscribed","find","sub","catalogPromiseCache","subscriptionsPromiseCache","apiKeyPromiseCache","updateAllUserData","bustCache","all","updateCatalogAndApisList","updateSubscriptions","apiKeyOrPromise","apiKey","get","_ref3","data","value","updateApiKey","catalogOrPromise","_ref$data","catch","subscriptionsOrPromise","mapUsageByDate","usage","usedOrRemaining","dates","keys","items","apiKeyId","apiKeyUsage","startDate","apiKeyDate","Date","Array","isArray","date","setDate","getDate","item","mapApiKeyUsageByDate","dailyUsage","used","remaining","sort","parseInt","confirmMarketplaceSubscription","token","put","toTitleCase","string","firstLetter","allOtherLetters","slice","toUpperCase","toLowerCase","loadUsage","canvasId","start","end","getFullYear","getMonth","toJSON","split","result","ctx","document","getElementById","JSON","stringify","labels","d","toLocaleDateString","weekday","year","month","day","max","Math","apply","chartConfig","type","datasets","label","quota","period","lineTension","borderColor","pointBackgroundColor","pointBorderColor","borderWidth","pointRadius","pointHoverRadius","options","scales","yAxes","ticks","beginAtZero","suggestedMax","Chart","error","console","userPool","Grid","container","Row","Column","paddingTop","background","border","borderRadius","Divider","filter","index","firstApiName","swagger","info","title","extraApiCount","List","Item","key","width","widescreen","marginBottom","Popup","trigger","cursor","content","on","position","throttle","Message","rateLimit","burstLimit","toString","Loader","active","poolData","UserPoolId","ClientId","isAuthenticated","getCognitoLoginKey","login","email","password","authenticationDetails","AuthenticationDetails","Username","Password","CognitoUser","Pool","CognitoUserPool","reject","authenticateUser","onSuccess","credentials","CognitoIdentityCredentials","IdentityPoolId","Logins","defineProperty","getIdToken","getJwtToken","refresh","post","onFailure","logout","signOut","localStorage","clear","MenuHeader","children","Menu","_React$Component","ApisMenu","_getPrototypeOf2","_this","classCallCheck","this","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","state","selectedApi","handleClick","log","setState","prev","isActive","apiId","inherits","createClass","_this2","params","_this3","_this$props","inverted","attached","ApisMenu_MenuHeader","onClick","React","Component","InfoReplacement","specSelectors","basePath","host","externalDocs","className","display","flex","marginRight","fontWeight","version","SwaggerUiLayout_SubscriptionButtons","SubscriptionButtons","delete","SwaggerLayoutPlugin","components","InfoContainer","ApisPage","updateApi","selectIt","thisApi","getApi","match","swaggerUiConfig","dom_id","plugins","supportedSubmitMethods","spec","onComplete","uiHandler","preauthorizeApiKey","SwaggerUI","errorHeader","errorBody","overflow","components_ApisMenu","icon","Icon","name","circular","Content","AlertPopup","isVisible","message","handleDismiss","hidden","negative","floating","onDismiss","SignIn","isSubmitting","signedIn","errorMessage","isOpen","open","close","handleChange","event","handleLogin","preventDefault","e","Redirect","Modal","onOpen","onClose","Form","onSubmit","loading","Input","onChange","autoComplete","Actions","primary","Register","handleRegister","attributeList","signUp","err","register","SignOut","forceUpdate","cloneElement","NavBar","borderless","paddingRight","APIs","SignOut_SignOut","SignIn_SignIn","Register_Register","App","getCurrentUser","getSession","session","hashRoute","location","hash","substring","history","pushState","BrowserRouter","components_NavBar","AlertPopup_AlertPopup","Switch","Route","exact","component","Dashboard","Apis","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.bfc3884e.chunk.js","sourcesContent":["// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// react-router\nimport { Link } from 'react-router-dom'\n\n// mobx\nimport { observable } from 'mobx'\n\n// markdown parsing\nimport frontmatter from 'front-matter'\nimport Markdown from 'react-markdown/with-html'\n\nexport const fragments = observable({})\n\nloadHtml('/custom-content/content-fragments/GettingStarted.md', 'GettingStarted')\nloadHtml('/custom-content/content-fragments/Home.md', 'Home')\nloadHtml('/custom-content/content-fragments/APIs.md', 'APIs')\n\n/**\n * \n * Pre-load the custom-content markdown, parses its frontmatter, and renders it as JSX. This method is asynchronous and doesn't actually return anything -- instead, it acts on a MobX Observable -- the fragment. The fragment is an object with a `jsx` property that maps to the rendered component, and any number of other properties collected from the front-matter.\n * \n * @param {String} path   Path to the file to load in. Should be a markdown file.\n * @param {String} fragment   Name of the fragment. Determines where rendered data gets stored.\n * \n * @returns {Object} \n */\nfunction loadHtml(path, fragment) {\n  // if we want to display a loading indicator, this would be where\n  fragments[fragment] = { jsx: () => null }\n\n  fetch(path).then(response => response.text().then(text => {\n    let parsedMarkdown = frontmatter(text)\n\n    fragments[fragment] = {\n      jsx: () => (\n        <Markdown \n          escapeHtml={false} \n          source={parsedMarkdown.body}\n          renderers={renderers}\n        />\n      ),\n      ...parsedMarkdown.attributes\n    }\n  }))\n}\n\n/**\n * Renderers is a map of node type to component. \n * \n * In this case, we only override links. Any time react-markdown tries to render a link, it'll render this component. Normal links will work, but the cause a full page reload. We don't want that, so we can replacing them with react-router Links. However, replacing external links with react-router Links causes them to not work at all. We don't want that either, so we attempt to determine if a link is external or not, and use `Link` or `a` appropriately.\n */\nconst renderers = {\n  link: ({ href, ...props }) => {\n    // if absolute url, use an `a` tag\n    // https://stackoverflow.com/a/19709846/4060061\n    if (/^(?:[a-z]+:)?\\/\\//i.test(href))\n      return <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" {...props} />\n\n    // replace links with react-router-dom tags so that they \n    return <Link to={href} {...props} />\n  }\n}","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport AWS from 'aws-sdk'\n\nexport const awsRegion = window.config.region\nexport const cognitoRegion = window.config.region\nexport const cognitoUserPoolId = window.config.userPoolId\nexport const cognitoIdentityPoolId = window.config.identityPoolId\nexport const cognitoClientId = window.config.userPoolClientId\n\nAWS.config.region = cognitoRegion\n\nlet cachedClient\n\nexport function initApiGatewayClient({ accessKeyId, secretAccessKey, sessionToken } = {}) {\n  cachedClient = window.apigClientFactory.newClient({\n    accessKey: accessKeyId,\n    secretKey: secretAccessKey,\n    sessionToken: sessionToken,\n    region: awsRegion\n  })\n}\n\nexport function apiGatewayClient() {\n  if (cachedClient) return Promise.resolve(cachedClient)\n  \n  return new Promise(resolve => {\n    const poller = setInterval(() => {\n      if (cachedClient) {\n        clearInterval(poller)\n        resolve(cachedClient)\n      }\n    }, 100)\n  })\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// mobx\nimport { observer } from 'mobx-react'\n\n// fragments\nimport { fragments } from 'services/get-fragments'\n\n// react-router\nimport { Link } from 'react-router-dom'\n\n// semantic-ui\nimport { Header, Segment, Container, Image, Button } from 'semantic-ui-react'\n\nexport const HomePage = observer(() => (\n  <React.Fragment>\n    <Segment vertical textAlign='center' style={{ color: \"whitesmoke\", backgroundColor: \"slategray\", padding: \"40px 0px\", margin: \"0px !important\" }}>\n      <Image centered size='small' src='/custom-content/home-image.png' />\n      <Header as='h1' style={{ color: \"whitesmoke\" }}>{fragments.Home.header}</Header>\n      <p>{fragments.Home.tagline}</p>\n      <Link to=\"/getting-started\"><Button positive>{fragments.Home.gettingStartedButton}</Button></Link>\n      <Link to=\"/apis\" style={{ padding: \"0.78571429em 1.5em 0.78571429em\", color: \"white\" }}>{fragments.Home.apiListButton}</Link>\n    </Segment>\n    <Segment vertical style={{ padding: \"40px 0px\", margin: \"0 !important\" }}>\n      <Container fluid text textAlign='justified'>\n        <fragments.Home.jsx />\n      </Container>\n    </Segment>\n  </React.Fragment>\n))\n\nexport default HomePage\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// mobx\nimport { observer } from 'mobx-react'\n\n// fragments\nimport { fragments } from 'services/get-fragments'\n\n// semantic-ui\nimport { Container } from 'semantic-ui-react'\n\nexport default observer(() => (\n  <Container style={{ padding: \"40px\" }}>\n    <fragments.GettingStarted.jsx />\n  </Container>\n))\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { observable, computed } from 'mobx'\nimport _ from 'lodash'\n\nimport { getSubscribedUsagePlan } from 'services/api-catalog'\n\nexport const store = observable({\n  api: undefined,\n  apiList: undefined,\n\n  cognitoUser: undefined,\n\n  /**\n   * We have a bunch of side-effects we need to run when we're setting `catalog` and \n   * `subscriptions`. That's accomplished by using getters and setters. We're storing\n   * the actual data in `storeCache` so that people can't update `catalog` and \n   * `subscriptions` without hitting the side-effects.\n   */\n\n  // Catalog side-effects\n  // 1 - update each api to have a usagePlan object nested in them\n  // 2 - update the apiList based on the catalog \n  // 3 - update the subscribed status of each api\n  set catalog(catalog = []) {\n    storeCache.catalog = addUsagePlanToApis(catalog)\n    store.apiList = createApiList(storeCache.catalog)\n    fetchApiImage(store.apiList)\n    updateSubscriptionStatus()\n\n    return storeCache.catalog\n  },\n  get catalog() { return storeCache.catalog },\n\n  // Subscription side-effects\n  // 1 - update the subscribed status of each api\n  set subscriptions(subscriptions = []) {\n    storeCache.subscriptions = subscriptions\n    updateSubscriptionStatus()\n\n    return storeCache.subscriptions\n  },\n  get subscriptions() { return storeCache.subscriptions },\n}, {\n    catalog: computed,\n    subscriptions: computed\n  })\n\n// This is the cache for the actual catalog and subscriptions. DO NOT MODIFY and DO NOT USE.\nconst storeCache = observable({\n  catalog: {\n    apiGateway: [],\n    generic: []\n  },\n  subscriptions: []\n})\n\n/**\n * A function that takes an input catalog and performs some side-effects on it.\n * \n * - Makes sure each api has a non-recursive 'usagePlan' object\n * - recalculates the `apiList`\n */\nfunction addUsagePlanToApis({ apiGateway, generic }) {\n  return {\n    apiGateway: apiGateway.map(usagePlan => {\n      usagePlan.apis = usagePlan.apis.map(api => {\n        api.usagePlan = _.cloneDeep(usagePlan)\n        // remove the apis from the cloned usagePlan so we don't go circular\n        delete api.usagePlan.apis\n        return api\n      })\n\n      return usagePlan\n    }),\n    generic: [...generic]\n  }\n}\n\nfunction createApiList({apiGateway, generic}) {\n  return {\n    apiGateway: apiGateway.reduce((acc, usagePlan) => acc.concat(usagePlan.apis), []),\n    generic: [...generic]\n  }\n}\n\nfunction fetchApiImage() {\n  store.apiList.apiGateway.forEach(api => {\n    let specificLogo = `/custom-content/api-logos/${api.id}_${api.stage}.png`\n\n    // fetch automatically follows redirects; setting redirect to `manual` prevents this\n    // we need to prevent it so that we can accurately determine if the image exists\n    if (!api.logo)\n      fetch(specificLogo, { headers: { Accept: \"image/png\" }, redirect: \"manual\" }).then(response => {\n        if (response.ok)\n          api.logo = specificLogo\n\n        else api.logo = '/custom-content/api-logos/default.png'\n      })\n  })\n}\n\n/**\n * A helper function that simple re-builds the subscribed status for each api in the catalog.\n * \n * Should be run every time either the catalog updates or the \n */\nfunction updateSubscriptionStatus() {\n  if (storeCache.catalog)\n    storeCache.catalog.apiGateway.forEach(usagePlan => {\n      let subscribed = !!getSubscribedUsagePlan(usagePlan.id)\n      usagePlan.subscribed = subscribed\n\n      usagePlan.apis.forEach(api => api.subscribed = subscribed)\n    })\n}\n\nexport default store\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { apiGatewayClient } from './api'\nimport { store } from './state'\n\n/* Catalog and API Utils */\n\n/**\n * \n * Does all operations to get user data at once.\n * \n * @param {Boolean} bustCache=true   Ignore the cache and re-make the calls? Defaults to true.\n */\nexport function updateAllUserData(bustCache = true) {\n  return Promise.all([\n    updateCatalogAndApisList(bustCache),\n    updateSubscriptions(bustCache),\n    updateApiKey(bustCache)\n  ])\n}\n\n/**\n * \n * Update the catalog for the current user. Both request and response are cached, so unless the cache is busted, this should only ever make one network call.\n * \n * @param {Boolean} [bustCache=false]   Ignore the cache and re-make the network call. Defaults to false.\n * \n */\nexport function updateCatalogAndApisList(bustCache = false) {\n  let catalogOrPromise = store.catalog.length ? store.catalog : catalogPromiseCache\n  if (!bustCache && catalogOrPromise) return Promise.resolve(catalogOrPromise)\n\n  return catalogPromiseCache = apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.get('/catalog', {}, {}, {}))\n    .then(({ data = [] }) => (store.catalog = data))\n    .catch(() => {\n      // catch a failed request and set catalog to a blank array\n      return (store.catalog = [])\n    })\n}\nlet catalogPromiseCache // WARNING: Don't touch this. Should only be used by updateCatalogAndApisList.\n\n/**\n * Return the API with the provided apiId. Can also provide the special strings \"FIRST\" or \"ANY\" to get the first API returned. Can select the api returned as a side-effect.\n * \n * @param {String} apiId   An apiId or the special strings 'FIRST' or 'ANY'. 'FIRST' and 'ANY' both return the first api encountered.\n * @param {Boolean} [selectIt=false]   If true, sets the found API as the current 'selected' API.\n */\nexport function getApi(apiId, selectIt = false) {\n  return updateCatalogAndApisList()\n    .then(() => {\n      let thisApi\n  \n      if (store.apiList.apiGateway.length) {\n        if (apiId === 'ANY' || apiId === 'FIRST') {\n          thisApi = store.apiList.apiGateway[0]\n        }\n\n        else {\n          thisApi = store.apiList.apiGateway.find(api => api.id === apiId)\n        }\n\n        if (thisApi === undefined) {\n          thisApi = store.apiList.generic.find(api => api.id.toString() === apiId)\n        }\n      }\n\n      if (selectIt) store.api = thisApi\n\n      return thisApi\n    })\n}\n\n/* Subscription Utils */\n\n/**\n * Fetch and update subscriptions store. Uses caching to determine if it should actually fetch or return the stored result.\n * \n * @param {Boolean} [bustCache=false]   Ignore the cache and re-make the network call. Defaults to false.\n */\nexport function updateSubscriptions(bustCache = false) {\n  let subscriptionsOrPromise = store.subscriptions.length ? store.subscriptions : subscriptionsPromiseCache\n  if (!bustCache && subscriptionsOrPromise) return Promise.resolve(subscriptionsOrPromise)\n\n  return subscriptionsPromiseCache = apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.get('/subscriptions', {}, {}, {}))\n    .then(({ data }) => (store.subscriptions = data))\n}\nlet subscriptionsPromiseCache // WARNING: Don't touch this. Should only be used by updateCatalogAndApisList.\n\nexport function getSubscribedUsagePlan(usagePlanId) {\n  return store.subscriptions.find(sub => sub.id === usagePlanId)\n}\n\nexport function subscribe(usagePlanId) {\n  return apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.put('/subscriptions/' + usagePlanId, {}, {}))\n    .then(() => updateSubscriptions(true))\n}\n\nexport function unsubscribe(usagePlanId) {\n  return apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.delete(`/subscriptions/${usagePlanId}`, {}, {}))\n    .then(() => updateSubscriptions(true))\n}\n\n/**\n * \n * Fetches and updates the apiKey in the store. Both request and response are cached, so unless the cache is busted, this should only ever make one network call.\n * \n */\nexport function updateApiKey(bustCache) {\n  let apiKeyOrPromise = store.apiKey ? store.apiKey : apiKeyPromiseCache\n  if (!bustCache && apiKeyOrPromise) return Promise.resolve(apiKeyOrPromise)\n\n  return apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.get('/apikey', {}, {}, {}))\n    .then(({data}) => (store.apiKey = data.value))\n}\nlet apiKeyPromiseCache\n\nexport function fetchUsage(usagePlanId) {\n  const date = new Date()\n  const start = new Date(date.getFullYear(), date.getMonth(), 1).toJSON().split('T')[0]\n  const end = date.toJSON().split('T')[0]\n  return apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.get('/subscriptions/' + usagePlanId + '/usage', { start, end }, {}))\n}\n\nexport function mapUsageByDate(usage, usedOrRemaining) {\n  const dates = {}\n  Object.keys(usage.items).forEach(apiKeyId => {\n    const apiKeyUsage = mapApiKeyUsageByDate(usage.items[apiKeyId], usage.startDate, usedOrRemaining)\n\n    // handles the bizarre case that the user has more than one api key\n    // currently not possible (and my never be), so we probably don't need it\n    apiKeyUsage.forEach(dailyUsage => {\n      const date = dailyUsage[0]\n      const used = dailyUsage[1]\n      const remaining = dailyUsage[2]\n      \n      if (!dates[date])\n      dates[date] = { used: 0, remaining: 0 }\n\n      dates[date].used += used\n      dates[date].remaining += remaining\n    })\n  })\n  \n  const usageByDate = Object.keys(dates).sort().map(date => [\n    parseInt(date, 10), \n    dates[date].used, \n    dates[date].remaining \n  ])\n  \n  return usageByDate\n}\n\nfunction mapApiKeyUsageByDate(apiKeyUsage, startDate) {\n  const apiKeyDate = new Date(startDate)\n  \n  if (apiKeyUsage && !Array.isArray(apiKeyUsage[0]))\n    apiKeyUsage = [apiKeyUsage]\n  \n  return apiKeyUsage.map((usage) => {\n    const date = apiKeyDate.setDate(apiKeyDate.getDate())\n    const item = [date, ...usage]\n    apiKeyDate.setDate(apiKeyDate.getDate() + 1)\n    return item\n  })\n}\n\n/* Marketplace integration */\n\nexport function confirmMarketplaceSubscription(usagePlanId, token) {\n  if (!usagePlanId) {\n    return\n  }\n  \n  return apiGatewayClient()\n    .then(apiGatewayClient => apiGatewayClient.put('/marketplace-subscriptions/' + usagePlanId, {}, {\"token\" : token}))\n}","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getQueryString() {\n  const { search: q } = window.location\n\n  if (!q) return {}\n\n  return (/^[?#]/.test(q) ? q.slice(1) : q)\n    .split('&')\n    .reduce((params, param) => {\n      let [ key, value ] = param.split('=');\n      params[key] = value ? decodeURIComponent(value) : '';\n      return params;\n    }, { })\n}\n\nexport function toTitleCase(string) {\n\tlet firstLetter = string[0]\n\tlet allOtherLetters = string.slice(1)\n\n\treturn firstLetter.toUpperCase() + allOtherLetters.toLowerCase()\n}","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\nimport { Grid, Header, Popup, Loader, Message, List, Divider, Icon } from 'semantic-ui-react'\n\nimport Chart from 'chart.js'\nimport { fetchUsage, mapUsageByDate } from 'services/api-catalog'\nimport { toTitleCase } from 'services/misc'\n\nimport { observer } from 'mobx-react'\n\nimport { store } from 'services/state'\n\nimport _ from 'lodash'\n\nfunction loadUsage(usagePlan, canvasId) {\n  fetchUsage(usagePlan.id)\n    .then((result) => {\n      const data = mapUsageByDate(result.data, 'used')\n      const ctx = document.getElementById(canvasId)\n\n      let oldDataString = JSON.stringify(_.get(usagePlan, 'usage.data', {}))\n      let newDataString = JSON.stringify(data)\n\n      if (oldDataString !== newDataString)\n        usagePlan.usage = { data }\n\n      const labels = data.map(d => new Date(d[0]).toLocaleDateString('en-US', { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' }))\n      const used = data.map(d => d[1])\n      const remaining = data.map(d => d[2])\n      const max = Math.max(...used, ...remaining)\n\n      const chartConfig = {\n        type: 'line',\n        data: {\n          labels,\n          datasets: [\n            {\n              label: `Requests used` + (usagePlan.quota ? ` (per ${toTitleCase(usagePlan.quota.period)})` : ''),\n              data: used,\n              lineTension: 0,\n              backgroundColor: '#00bfff',\n              borderColor: '#00bfff',\n              pointBackgroundColor: 'transparent',\n              pointBorderColor: 'transparent',\n              borderWidth: 2,\n              pointRadius: 10,\n              pointHoverRadius: 10\n\n            },\n            {\n              label: `Remaining requests` + (usagePlan.quota ? ` (per ${toTitleCase(usagePlan.quota.period)})` : ''),\n              data: remaining,\n              lineTension: 0,\n              backgroundColor: 'transparent',\n              borderColor: 'red',\n              pointBackgroundColor: 'transparent',\n              pointBorderColor: 'transparent',\n              borderWidth: 2,\n              pointRadius: 10,\n              pointHoverRadius: 10\n            }\n          ]\n        },\n        options: { \n          scales: { yAxes: [ { ticks: {\n            beginAtZero: true,\n            suggestedMax: max + (max * 0.02)\n          } } ] }\n        }\n      }\n\n      new Chart(ctx, chartConfig)\n    })\n    .catch((error) => {\n      console.error(error)\n      if (!usagePlan.usage)\n        usagePlan.usage = { }\n\n      usagePlan.usage.error = error\n    })\n}\n\nexport default observer(() => {\n  return (\n    <Grid container>\n      <Grid.Row>\n        <Grid.Column style={{ paddingTop: \"40px\" }}>\n            <Header size=\"medium\">API Key</Header>\n            <code style={{\n              background: \"black\",\n              border: \"1px solid gray\",\n              padding: \"7px 8px\",\n              color: \"lightgray\",\n              borderRadius: \"5px\"\n            }}>\n              {store.apiKey}\n            </code>\n        </Grid.Column>\n      </Grid.Row>\n      <Divider />\n      <Grid.Row>\n\n      {store.catalog.apiGateway\n        .filter(usagePlan => usagePlan.subscribed)\n        .map((usagePlan, index) => {\n\n        let firstApiName = usagePlan.apis[0].swagger.info.title\n        let extraApiCount = usagePlan.apis.length - 1\n        let apiList = usagePlan.apis.reduce((acc, api) => acc.concat(\n          <List.Item key={api.id}>{api.swagger.info.title}</List.Item>\n        ), [])\n        let canvasId = `api-usage-chart-container-${usagePlan.id}` + index\n\n        loadUsage(usagePlan, canvasId)\n\n        return (\n          <Grid.Column width={16} widescreen={8} key={usagePlan.id} style={{ marginBottom: \"40px\" }}>\n            <Header size=\"medium\">\n              Usage for {extraApiCount ? (\n                <Popup\n                  trigger={ <a style={{ cursor: \"pointer\" }}>{firstApiName} and {extraApiCount} more...</a> }\n                  content={ <List> {apiList} </List> }\n                  on={['hover', 'click']}\n                  position=\"right center\"\n                />\n              ) : (\n                firstApiName\n              )}\n            </Header>\n            {usagePlan.throttle && (\n              <Message info>\n              <p>\n                Requests limited to {usagePlan.throttle.rateLimit} per second, and {usagePlan.throttle.burstLimit} in a burst.\n              </p>\n              </Message>\n            )}\n              \n              { !usagePlan.usage ? (\n                <Loader active />\n              ) : ( \n                usagePlan.error ? (\n                  <Message error content={usagePlan.error.toString()} />\n                ) : null\n              )}\n              <canvas id={canvasId} />\n          </Grid.Column>\n        )\n      })}\n      </Grid.Row>\n    </Grid>\n  )\n})\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport AWS from 'aws-sdk'\nimport { CognitoUserPool, CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js'\n\n// services\nimport { store } from 'services/state'\nimport { initApiGatewayClient, apiGatewayClient } from 'services/api'\nimport { updateAllUserData } from 'services/api-catalog'\nimport { cognitoIdentityPoolId, cognitoUserPoolId, cognitoClientId, cognitoRegion } from 'services/api'\n\nconst poolData = {\n  UserPoolId: cognitoUserPoolId,\n  ClientId: cognitoClientId\n}\n\nlet userPool\n\nexport function isAuthenticated() {\n  return store.cognitoUser\n}\n\nfunction getCognitoLoginKey() {\n  return `cognito-idp.${cognitoRegion}.amazonaws.com/${cognitoUserPoolId}`\n}\n\nexport function init() {\n  // attempt to refresh credentials from active session\n  userPool = new CognitoUserPool(poolData)\n  store.cognitoUser = userPool.getCurrentUser()\n\n  if (store.cognitoUser !== null) {\n    store.cognitoUser.getSession(function(err, session) {\n      if (err) {\n        logout()\n        console.error(err)\n        return\n      }\n\n      const cognitoLoginKey = getCognitoLoginKey()\n      const Logins = {}\n      Logins[cognitoLoginKey] = session.getIdToken().getJwtToken()\n      AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n        IdentityPoolId: cognitoIdentityPoolId,\n        Logins: Logins\n      })\n\n      AWS.config.credentials.refresh((error) => {\n        if (error) {\n          logout()\n          console.error(error)\n        } else {\n          initApiGatewayClient(AWS.config.credentials)\n          updateAllUserData()\n        }\n      })\n    })\n  } else {\n    initApiGatewayClient()\n  }\n}\n\nexport function register(email, password) {\n  localStorage.clear()\n  const attributeList = []\n  return new Promise((resolve, reject) => {\n    userPool.signUp(email, password, attributeList, null, (err, result) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(login(email, password))\n      }\n    })\n  })\n}\n\nexport function login(email, password) {\n    const authenticationDetails = new AuthenticationDetails({\n      Username: email,\n      Password: password\n    })\n\n    store.cognitoUser = new CognitoUser({\n      Username: email,\n      Pool: new CognitoUserPool(poolData)\n    })\n\n    return new Promise((resolve, reject) => {\n      store.cognitoUser.authenticateUser(authenticationDetails, {\n        onSuccess: (result) => {\n\n          AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n            IdentityPoolId: cognitoIdentityPoolId,\n            Logins: {\n              [getCognitoLoginKey()]: result.getIdToken().getJwtToken()\n            }\n          })\n\n          AWS.config.credentials.refresh((error) => {\n            if (error) {\n              console.error(error)\n            } else {\n              initApiGatewayClient(AWS.config.credentials)\n\n              apiGatewayClient().then(apiGatewayClient => \n                apiGatewayClient.post('/signin', {}, {}, {})\n                  .then(resolve)\n                  .catch(reject)\n              )\n            }\n          })\n        },\n\n        onFailure: reject\n    })\n  })\n}\n\nexport function logout() {\n  if (store.cognitoUser) {\n    store.cognitoUser.signOut()\n    store.cognitoUser = null\n    store.subscriptions = []\n    localStorage.clear()\n  }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\n// semantic-ui\nimport { Menu, Loader } from 'semantic-ui-react'\n\n// store\nimport { observer } from 'mobx-react'\nimport { store } from 'services/state'\n\nconst MenuHeader = ({ children }) => <Menu.Header style={{ padding: \"13px 5px 13px 16px\", color: 'lightsteelblue' }} >\n  {children}</Menu.Header>\n\nexport default observer(class ApisMenu extends React.Component {\n  state = {\n    selectedApi: ''\n  }\n\n  componentDidMount() {\n    if (this.props.path.params)\n      this.setState(prev => ({\n        ...prev,\n        selectedApi: this.props.path.params.apiId\n      }))\n  }\n\n  handleClick = (id) => {\n    console.log(`${id}`)\n    this.setState(prev => ({...prev, selectedApi: id}))\n  }\n\n  isActive = (apiId) => apiId === this.state.selectedApi\n\n  render() {\n    const { path, ...props } = this.props\n    return (\n      <Menu inverted vertical attached style={{ margin: 0, borderRadius: 0 }} {...props}>\n        <MenuHeader>Subscribable</MenuHeader>\n        {\n          !store.apiList ? (<Loader active />) : (\n            store.apiList.apiGateway && (\n              store.apiList.apiGateway.length ? store.apiList.apiGateway.map((api) => (\n                <Menu.Item\n                  key={api.id}\n                  as={Link}\n                  to={`/apis/${api.id}`}\n                  active={this.isActive(api.id.toString())}\n                  onClick={() => this.handleClick(api.id)}\n                >\n                  {api.swagger.info.title}\n                </Menu.Item>\n              )) : (\n                  <p style={{ padding: \"13px 16px\", color: \"whitesmoke\" }}>No APIs Published</p>\n                )\n            )\n          )\n        }\n        {store.apiList && store.apiList.generic && <MenuHeader>Not Subscribable</MenuHeader>}\n        {\n          store.apiList && store.apiList.generic ?\n            store.apiList.generic.map(({ id, swagger }) => (\n              <Menu.Item\n                key={id}\n                as={Link}\n                to={`/apis/${id}`}\n                active={this.isActive(id.toString())}\n                onClick={() => this.handleClick(id)}\n              >\n                {swagger.info.title}\n              </Menu.Item>\n            )) : undefined\n        }\n      </Menu>\n    )\n  }\n})\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// semantic-ui\nimport { Button, Header, Image, Container } from 'semantic-ui-react'\n\n// services\nimport { subscribe, unsubscribe } from 'services/api-catalog'\nimport { isAuthenticated } from 'services/self'\n\n// state\nimport { observer } from 'mobx-react'\nimport { store } from 'services/state.js'\n\n// Create the plugin that provides our layout component\nexport const SwaggerLayoutPlugin = () => ({ components: { InfoContainer: InfoReplacement } })\n\n// replaces the InfoContainer component\n// https://github.com/swagger-api/swagger-ui/blob/dd3afdc45656bda2a64ae6a7f9bdad006ea98149/src/core/components/layouts/base.jsx\n\nconst InfoReplacement = observer(({ specSelectors }) => {\n  const basePath = specSelectors.basePath()\n  const host = specSelectors.host()\n  const externalDocs = specSelectors.externalDocs()\n\n  return (\n    <Container fluid textAlign='left' className=\"fixfloat\" style={{ padding: \"40px 0px\" }}>\n      <div style={{ display: \"flex\" }}>\n        <div style={{ flex: \"0 0 auto\", marginRight: \"20px\" }}>\n          <Image size='small' src={store.api.logo} />\n        </div>\n        <div>\n          <Header as='h1'>{store.api.swagger.info.title}</Header>\n          <div style={{ display: \"flex\" }}>\n            <div style={{ marginRight: \"20px\" }}>\n              <p style={{ fontWeight: \"bold\" }}>Version</p>\n              <p style={{ fontWeight: \"bold\" }}>Endpoint</p>\n              {/* <p style={{ fontWeight: \"bold\" }}>Usage Plan</p> */}\n            </div>\n            <div>\n              <p>{store.api.swagger.info.version}</p>\n              <p>https://{host}{basePath}</p>\n              {/* <p>{store.api.usagePlan.name}</p> */}\n            </div>\n          </div>\n          <p>{externalDocs}</p>\n          <SubscriptionButtons />\n        </div>\n      </div>\n    </Container>\n  )\n})\n\nconst SubscriptionButtons = observer(class SubscriptionButtons extends React.Component {\n  state = {}\n\n  render() {\n    const { api } = store\n    return (\n      (api && isAuthenticated()) ? !api.generic ? (\n        api.subscribed ? (\n          <Button onClick={() => unsubscribe(api.usagePlan.id)}>Unsubscribe</Button>\n        ) : (\n          <Button onClick={() => subscribe(api.usagePlan.id)} >Subscribe</Button>\n        )\n      ) : <Header as='h4' color='darkgrey'>This API is not configured for subscription from the portal.</Header> : null\n    )\n  }\n})\n\n\nexport default SwaggerLayoutPlugin","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\n\n// swagger-ui\nimport SwaggerUI from 'swagger-ui'\nimport 'swagger-ui/dist/swagger-ui.css'\n\n// semantic-ui\nimport { Container, Header, Icon } from 'semantic-ui-react'\n\n// services\nimport { getApi } from 'services/api-catalog'\nimport { isAuthenticated } from 'services/self'\n\n// components\nimport ApisMenu from 'components/ApisMenu'\nimport SwaggerLayoutPlugin from 'components/SwaggerUiLayout'\n\n// state\nimport { store } from 'services/state.js'\nimport { observer } from 'mobx-react'\n\nexport default observer(class ApisPage extends React.Component {\n  componentDidMount() { this.updateApi() }\n  componentDidUpdate() { this.updateApi() }\n\n  updateApi = () => {\n    getApi(this.props.match.params.apiId || 'ANY', true)\n      .then(api => {\n        if (api) {\n          let swaggerUiConfig = {\n            dom_id: '#swagger-ui-container',\n            plugins: [SwaggerLayoutPlugin],\n            supportedSubmitMethods: [],\n            spec: api.swagger,\n            onComplete: () => uiHandler.preauthorizeApiKey(\"api_key\", store.apiKey)\n          }\n          if (isAuthenticated()) {\n            delete swaggerUiConfig.supportedSubmitMethods\n          }\n          let uiHandler = SwaggerUI(swaggerUiConfig)\n        }\n      })\n  }\n\n  render() {\n    let errorHeader\n    let errorBody \n\n    if (store.apiList && store.apiList.length === 0) {\n      errorHeader = `No APIs Published`\n      errorBody = `Your administrator hasn't added any APIs to your account. Please contact them to publish an API.`\n    } else if (!store.api && store.apiList && store.apiList.length) {\n      errorHeader = `No Such API`\n      errorBody = `The selected API doesn't exist.`\n    }\n\n    return (\n      <div style={{ display: \"flex\", flex: \"1 1 auto\", overflow: \"hidden\" }}>\n        <ApisMenu path={this.props.match} style={{ flex: \"0 0 auto\" }} />\n        <div className=\"swagger-section\" style={{ flex: \"1 1 auto\", overflow: 'auto' }}>\n          <div className=\"swagger-ui-wrap\" id=\"swagger-ui-container\" style={{ padding: \"0 20px\" }}>\n            {errorHeader && errorBody && (\n              <React.Fragment>\n                <Header as='h2' icon textAlign=\"center\" style={{ padding: \"40px 0px\" }}>\n                  <Icon name='warning sign' circular />\n                  <Header.Content>{errorHeader}</Header.Content>\n                </Header>\n                <Container text textAlign='justified'>\n                  <p>{errorBody}</p>\n                </Container>\n              </React.Fragment>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Message } from 'semantic-ui-react'\n\nexport default class AlertPopup extends React.Component {\n  state = {\n    isVisible: false,\n    message: ''\n  }\n\n  handleDismiss = () => {\n    this.setState({ isVisible: false })\n  }\n\n  render() {\n      return (\n        <Message\n          hidden={!this.state.isVisible}\n          negative\n          floating\n          icon='warning sign'\n          onDismiss={this.handleDismiss}\n          header='Error'\n          content={this.state.message}\n        />\n      )\n  }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Button, Form, Message, Modal } from 'semantic-ui-react'\nimport { Redirect } from 'react-router-dom'\nimport { login } from 'services/self'\nimport { confirmMarketplaceSubscription } from 'services/api-catalog'\n\n export default class SignIn extends React.Component {\n   state = {\n     isSubmitting: false,\n     signedIn: false,\n     errorMessage: '',\n     isOpen: false\n   }\n   open = () => this.setState({ isSubmitting: false, errorMessage: '', isOpen: true })\n   close = () => this.setState({ isOpen: false })\n\n   handleChange = (event, { name, value }) => this.setState({ [name]: value })\n   handleLogin = (event) => {\n    event.preventDefault()\n    this.setState({isSubmitting: true})\n\n    login(this.state.email, this.state.password)\n    .then(() => {\n        this.setState({signedIn: true, isSubmitting: false, errorMessage: ''})\n\n        const { usagePlanId, token } = this.props\n\n        if (usagePlanId && token) {\n   \t       return confirmMarketplaceSubscription(usagePlanId, token)\n        }\n    })\n    .catch((e) => this.setState({errorMessage: e.message, isSubmitting: false}))\n  }\n\n  render() {\n    const { isOpen } = this.state\n\n    return this.state.signedIn ? <Redirect to='/apis' /> : (\n      <Modal\n        size='small'\n        open={isOpen}\n        onOpen={this.open}\n        onClose={this.close}\n        trigger={this.props.trigger}\n      >\n        <Modal.Header>Sign in</Modal.Header>\n        <Modal.Content>\n          <Form onSubmit={this.handleLogin} error={!!this.state.errorMessage} loading={this.state.isSubmitting}>\n            <Form.Input label='Email' name='email' onChange={this.handleChange} />\n            <Form.Input type='password' label='Password' name='password' autoComplete='false' onChange={this.handleChange} />\n            <Message error content={this.state.errorMessage} />\n            <Modal.Actions style={{textAlign: 'right'}}>\n              <Button type='button' onClick={this.close}>Close</Button>\n              <Button primary type='submit'>Sign In</Button>\n            </Modal.Actions>\n          </Form>\n        </Modal.Content>\n      </Modal>)\n  }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Button, Form, Message, Modal } from 'semantic-ui-react'\nimport { Redirect } from 'react-router-dom'\nimport { register } from 'services/self'\nimport { confirmMarketplaceSubscription } from 'services/api-catalog'\n\n export default class Register extends React.Component {\n  state = {\n    isSubmitting: false,\n    signedIn: false,\n    errorMessage: '',\n    isOpen: false\n  }\n\n  open = () => this.setState({ isSubmitting: false, errorMessage: '', isOpen: true })\n  close = () => this.setState({ isOpen: false })\n\n  handleChange = (event, { name, value }) => this.setState({ [name]: value })\n  handleRegister = (event) => {\n    event.preventDefault()\n    this.setState({ isSubmitting: true })\n\n    register(this.state.email, this.state.password)\n    .then(() => {\n        this.setState({signedIn: true, isSubmitting: false, errorMessage: ''})\n\n        const { usagePlanId, token } = this.props\n\n        if (usagePlanId && token) {\n   \t       return confirmMarketplaceSubscription(usagePlanId, token)\n        }\n    })\n    .catch((e) => this.setState({errorMessage: e.message, isSubmitting: false}))\n  }\n\n  render() {\n    const { isOpen } = this.state\n\n    return this.state.signedIn ? <Redirect to='/apis' /> : (\n      <Modal\n        size='small'\n        open={isOpen}\n        onOpen={this.open}\n        onClose={this.close}\n        trigger={this.props.trigger}\n      >\n        <Modal.Header>Register</Modal.Header>\n        <Modal.Content>\n          <Form onSubmit={this.handleRegister} error={!!this.state.errorMessage} loading={this.state.isSubmitting}>\n            <Form.Input label='Email' name='email' onChange={this.handleChange} />\n            <Form.Input type='password' label='Password' name='password' autoComplete='false' onChange={this.handleChange} />\n            <Message error content={this.state.errorMessage} />\n            <Modal.Actions style={{textAlign: 'right'}}>\n              <Button type='button' onClick={this.close}>Close</Button>\n              <Button primary type='submit'>Register</Button>\n            </Modal.Actions>\n          </Form>\n        </Modal.Content>\n      </Modal>)\n    }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Redirect} from 'react-router-dom'\nimport { logout, isAuthenticated } from 'services/self'\n\nexport default class SignOut extends React.Component {\n  logout = () => {\n    logout()\n    this.forceUpdate()\n  }\n\n  render() {\n    return isAuthenticated() ? (\n      React.cloneElement( this.props.trigger, { onClick: this.logout })\n    ) : (\n      <Redirect to='/' />\n    )\n  }\n}\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Menu, Image } from 'semantic-ui-react'\n\nimport { isAuthenticated } from 'services/self'\n\n// mobx\nimport { observer } from 'mobx-react'\n\n// fragments\nimport { fragments } from 'services/get-fragments'\n\n// components\nimport SignIn from './SignIn'\nimport Register from './Register'\nimport SignOut from './SignOut'\n\nexport const NavBar = observer(() => {\n  return (\n    <Menu inverted borderless attached style={{ flex: \"0 0 auto\" }}>\n      <Menu.Item as={Link} to=\"/\">\n        <Image size='mini' src=\"/custom-content/nav-logo.png\" style={{ paddingRight: \"10px\" }} />\n        {fragments.Home.title}\n      </Menu.Item>\n      <Menu.Item as={Link} to=\"/getting-started\">{fragments.GettingStarted.title}</Menu.Item>\n      <Menu.Item as={Link} to=\"/apis\">{fragments.APIs.title}</Menu.Item>\n      <Menu.Menu position=\"right\">\n        { isAuthenticated() ? (\n          <React.Fragment>\n            <SignOut trigger={<Menu.Item as=\"a\" key=\"logout\">Sign Out</Menu.Item>} />\n            <Menu.Item as={Link} to=\"/dashboard\" key=\"dashboard\">My Dashboard</Menu.Item>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <SignIn trigger={<Menu.Item as=\"a\" key=\"login\">Sign In</Menu.Item>} />\n            <Register trigger={<Menu.Item as=\"a\" key=\"register\">Register</Menu.Item>} /> \n          </React.Fragment>\n        )}\n      </Menu.Menu>\n    </Menu>\n  )\n})\n\nexport default NavBar\n","// Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\n\n// content-fragments (import here to start this ASAP)\nimport 'services/get-fragments'\n\n// semantic-ui\nimport 'semantic-ui-css/semantic.css'\n\n// pages\nimport Home from 'pages/Home'\nimport GettingStarted from 'pages/GettingStarted'\nimport Dashboard from 'pages/Dashboard'\nimport Apis from 'pages/Apis'\n\n// components\nimport AlertPopup from 'components/AlertPopup'\nimport NavBar from 'components/NavBar'\n\nimport { init } from 'services/self'\nimport './index.css';\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    init()\n\n    // We are using an S3 redirect rule to prefix the url path with #!\n    // This then converts it back to a URL path for React routing\n    const hashRoute = window.location.hash.substring(2)\n    window.history.pushState({}, 'home page', hashRoute)\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <React.Fragment>\n          <NavBar />\n          <AlertPopup />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/getting-started\" component={GettingStarted} />\n            <Route path=\"/dashboard\" component={Dashboard} />\n            <Route exact path=\"/apis\" component={Apis} />\n            <Route path=\"/apis/:apiId\" component={Apis} />\n            <Route component={() => <h2>Page not found</h2>} />\n          </Switch>\n        </React.Fragment>\n      </BrowserRouter>\n    )\n  }\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}